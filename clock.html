<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

        let graphics;
        let canvas;

        function init() {
            canvas = document.getElementById("myCanvas");
            graphics = canvas.getContext("2d");

            setInterval(draw, 10);

        }

        function draw() {
            graphics.clearRect(0,0,canvas.width,canvas.height);
            drawCircle();
            updateTime();
        }

        function line(x1,y1,x2,y2) {
            graphics.beginPath();
            graphics.moveTo(x1, y1);
            graphics.lineTo(x2, y2);
            graphics.stroke();
        }

        function drawCircle() {
            let i = 0;
            let x = 240*Math.cos(i)+300;
            let y = 240*Math.sin(i) +300;

            
            graphics.beginPath();
            graphics.moveTo(x,y);

            while (i < 2*Math.PI) {
                i += 2*Math.PI/200;
                x = 240*Math.cos(i)+300;
                y = 240*Math.sin(i)+300;

                graphics.lineTo(x,y);
            }

            graphics.stroke();

            i=0;
            let count = 0;

            while (i < 2*Math.PI) {
                i += 2*Math.PI/60;
                x = 240*Math.cos(i)+300;
                y = 240*Math.sin(i)+300;

                let x2 = 230*Math.cos(i)+300;
                let y2 = 230*Math.sin(i)+300;

                line(x,y,x2,y2);
                count++;
                if (count%5 == 0) {
                    let x1 = 220*Math.cos(i)+300;
                    let y1 = 220*Math.sin(i)+300;

                    x2 = 200*Math.cos(i)+300;
                    y2 = 200*Math.sin(i)+300;

                    line(x1,y1,x2,y2);
                }
            }
        }

        function updateTime() {
            let d = new Date();
            document.getElementById("time").innerHTML = d;

            console.log("Test");

            let milsec = d.getMilliseconds();
            let seconds = d.getSeconds();
            let minutes = d.getMinutes();
            let hours = d.getHours();


            seconds += milsec/1000;
            minutes += seconds/60;
            hours += minutes/60;

            console.log(seconds, minutes, hours);

            let sTheta = (seconds-15)/30*Math.PI;
            let mTheta  = (minutes-15)/30*Math.PI;
            let hTheta = (hours-3)/6*Math.PI;

            let sx = 240*Math.cos(sTheta) + 300;
            let sy = 240*Math.sin(sTheta) + 300;

            let mx = 180*Math.cos(mTheta)+300;
            let my = 180*Math.sin(mTheta)+300;

            let hx = 100*Math.cos(hTheta)+300;
            let hy = 100*Math.sin(hTheta)+300;

            graphics.strokeStyle = "rgb(255,0,0)";
            line(300,300,sx,sy);
            graphics.strokeStyle = "rgb(0,0,0)";
            line(300,300,mx,my);
            line(300,300,hx,hy);
        }


    </script>

</head>
<body onload="init()">
    <h1>My Heading</h1>

    <p id="time">This is a basic webpage</p>
    <canvas id="myCanvas" width="600" height="600" style="border: 1px solid #d3d3d3"></canvas>
</body>
</html>